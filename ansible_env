# Env vars for ansible to run

# us-east-1 production-vpc

# A security group to provision your EC2 instance into
# This security group will need to allow the following ports
# in order to utilize the various plays in this repo:
# - 443 (VPN tunnel port)
# - 22 (SSH port)
# - 6443 (default kubeadm master port for kube API server).
export SG_ID=sg-04cd9876

# The subnet of your instance (public)
# For use with openvpn
export SUBNET_ID=subnet-9639d1b9

# Private subnet
# For use with instances that do not require public access.
export PRIVATE_SUBNET_ID=subnet-90093b9c

# server instance will be tagged TAG_NAME-TAG_ENV
export TAG_NAME=kube_slave
export TAG_ENV=development

# ubuntu 16
export AMI_ID=ami-cd0f5cb6

# IAM Role with sufficient permissions to read/write to s3 and access to EC2 (read/write)
export IAM_ROLE="role-deploy"

# A private key corresponding to an IAM key pair created already in AWS
export SSH_KEY=~/.ssh/production-vpc-us-east-1.pem

# The name of th aforementioned key in AWS
export SSH_KEY=production-vpc-us-east-1

export SSH_USER="ubuntu"

# AWS Region
export REGION=us-east-1

# You do not need to mess with these unless you dare to use docker / kitchen 
export REPO=stategine
export PLAYBOOK=ec2.yml

# open-ca environment variables
# These are used when running the ./build-ca step of openvpn setup.
# You can see this in roles/openvpn/tasks/configure.yml 
export ORG_COUNTRY=US
export ORG_PROVINCE=CA
export ORG_LOCATION=Oakland
export ORG_NAME="Prominent Edge"

# The environment (can be anything it is more of an identifier for tagging / provisioning)
export ENVIRONMENT=development

# Bucket name - this is important when running the kube-* playbooks - this stashes
# the admin config file to allow interacxtion with the kubernetes cluster using
# kubectl.
export S3_BUCKET_NAME="statengine-devops"

# You have to change this (must change) once you run the kube-master as a new
# instance is created.
export KUBE_MASTER_IP=10.1.2.166

# Remember for ansible to substitute hyphens for underscores.
# This is only temporary until we figure out a better way to toss along things
# The reason we sub hyphens for underscores is that inside run.sh we have:
#
#  54 export SED_NAME=`echo $TAG_NAME | sed 's/-/_/g'`
#  55 export SED_ENV=`echo $TAG_ENV | sed 's/-/_/g'`
#
export KUBE_MASTER_TAG="kube_master"

# These are important parameters for the kubernetes slave (kube-slave.yml) playbook.  Without these
# kubeadm join will fail to join the master.  These are also copied to your s3 bucket specified
# above in S3_BUCKET_NAME.
# export KUBEADM_JOIN_TOKEN="1a010c.2ff2810f2c81661c"
# export KUBEADM_SHA256_HASH="537984c0fae9a99521c911caf81fdb4c3d5f0d41721afebb5199137dd1cee495"
